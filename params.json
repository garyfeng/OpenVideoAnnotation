{"name":"Video Annotation","tagline":"Using Open Video Annotation","body":"Video Annotation \r\n\r\nDemo: [youtube.html]\r\n\r\n----\r\n\r\n==================\r\n##Annotation Plugin\r\n\r\nAnnotations.js is a plugin for Video JS player. The aim of this plugin is to create annotations in video-js.\r\n\r\n##Live-Demo\r\n\r\nThere is a demo of the annotations plugin in the next webpage:\r\n\r\nhttp://danielcebrian.com/annotations/demo.html\r\n\r\n##Installation\r\n\r\nTo use the tool you need to install the [video-js player plugin](https://github.com/videojs/video.js/), [rangeslider plugin for video-js](https://github.com/danielcebrian/rangeslider-videojs) and the [Annotator plugin](https://github.com/okfn/annotator/) to annotate text and video.\r\n\r\nIn addition add annotations.min.js and annotations.min.css CDN distributed file to your head tag, just after\r\nvideojs:\r\n\r\n```html\r\n\t<head>\r\n\t\t<!-- Annotator -->\r\n\t\t<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js\"></script>\r\n\t\t<script src=\"http://assets.annotateit.org/annotator/v1.2.5/annotator-full.min.js\"></script>\r\n\t\t<link rel=\"stylesheet\" href=\"http://assets.annotateit.org/annotator/v1.2.5/annotator.min.css\">\r\n\r\n\t\t<!--video-js-->\r\n\t\t<link href=\"http://vjs.zencdn.net/4.1/video-js.css\" rel=\"stylesheet\">\r\n\t\t<script src=\"lib/video-js/video.min.js\"></script>\r\n\r\n\t\t<!--RangeSlider Pluging-->\r\n\t\t<script src=\"lib/rangeslider.min.js\"></script>\r\n\t\t<link href=\"lib/rangeslider.min.css\" rel=\"stylesheet\">\r\n\r\n\t\t<!--Annotations Pluging-->\r\n\t\t<script src=\"build/annotations.min.js\"></script>\r\n\t\t<link href=\"build/annotations.min.css\" rel=\"stylesheet\">\r\n\t</head>\r\n```\r\n\r\n##Usage\r\n\r\nLoad all the videos in video-js with different id, as you can see in the [tutorial of video-js player](https://github.com/videojs/video.js/blob/master/docs/setup.md) \r\n\r\n```html\r\n<video id=\"vid1\" class=\"video-js vjs-default-skin\" controls preload=\"none\" width=\"640\" height=\"264\"\r\nposter=\"http://video-js.zencoder.com/oceans-clip.png\"\r\ndata-setup=''>\r\n\t<source src=\"http://video-js.zencoder.com/oceans-clip.mp4\" type='video/mp4' />\r\n\t<source src=\"http://video-js.zencoder.com/oceans-clip.webm\" type='video/webm' />\r\n\t<source src=\"http://video-js.zencoder.com/oceans-clip.ogv\" type='video/ogg' />\r\n</video>\r\n```\r\n\t\r\nTo load and control the plugin from Javascript must select the <div> with the content to annotate. In addition add the plugin to the videojs, as follow:\r\n\r\n```js\r\n<script>\r\n\tvar options = {\r\n    \t\toptionsAnnotator: {user: {},store: {}},\r\n\t\t\toptionsVideoJS: {},\r\n\t\t\toptionsRS: {},\r\n    \t\toptionsOVA: {posBigNew:'ul'},\r\n    \t}\r\n\t//Add the div id to annotate by Annotator. In the demo.html the id is \"airlock\" too.\r\n\tvar ova = new OpenVideoAnnotation.Annotator($('#airlock'),options);\r\n\t\r\n\t//(optional) Set the configuration for the users\r\n\tova.setCurrentUser($('#username').val());\r\n\r\n\t$('#username').change(function () {\r\n\t\tova.setCurrentUser($(this).val());\r\n\t});\r\n\t\r\n</script>\r\n```\r\n\r\nThe initial options for the annotations is the position of the button for new annotations:\r\n\r\nposBigNew (options):\r\n\r\n* ul (up left) -by default-\r\n* ur (up right)\r\n* bl (below left) \r\n* br (below right)\r\n* c  (center)\r\n* none  (without button)\r\n\r\nNumAnnotations: it is the number of Annotation that will be load in the display. The other annotation will be hide under the scroll. (By default: 16)\r\n\r\n#URl API to preload an annotation\r\n\r\nThis plugin allow to share an annotation with two methodologies:\r\n\r\nThe first method will send a stored annotation  in the database (ToDo)\r\n\r\nThe second method will send a new isolated annotation that is not in the database. The code to share a annotation with this method is:\r\n\r\nhttp://url-with-the-video.com/?ovaSrc=(Source)&ovaContainer=(ContainerID)&ovaStart=(Start)&ovaEnd=(End)&ovaText=(Text)&ovaUser=(User)\r\n\r\nAll the values between brackets must be replaced by the real value.\r\n\r\nThe obligatory values are:\r\n\r\n* ovaSrc = source where is the video. For example, in the demo video with this plugin the source is in: http://video-js.zencoder.com/oceans-clip.mp4\r\n* ovaContainer = the id where we had put the video. In the demo is vid1\r\n* ovaStart = the time to start the video\r\n* ovaEnd = the time to end the video\r\n\r\nThe optionals values are:\r\n\r\n* ovaText = the text that the user will see.\r\n* ovaUser = the user who has sent the annotation\r\n\r\nCaution, all these variables must be ready to be in a URL link and take care of special characters like &()#/. To do this, we can parse the string with decodeURIComponent().\r\n\r\nAn example of URL API is this:\r\n\r\nhttp://danielcebrian.com/annotations/demo.html?ovaContainer=vid1&ovaSrc=http%3A%2F%2Fvideo-js.zencoder.com%2Foceans-clip.mp4&ovaStart=2&ovaEnd=10&ovaText=This%20is%20test&ovaUser=Test%20User\r\n\r\n\r\n#API Methods to take control of the plugin\r\n\r\nOnce the plugin is started and the DOM readed, we can control the Open Video Annotator giving the id of the video in the html. It is possible to use the following functions:\r\n\r\n### newVideoAn(VideoID) ###\r\n\r\nCreate a new video annotation. VideoID is the ID in html for the video. In the demo example is 'vid1'.\r\n\r\n```js\r\n\tova.newVideoAn('divID');\r\n```\r\n\r\n### showDisplay(VideoID) ###\r\n\r\nShow the annotation display\r\n\r\n```js\r\n\tova.showDisplay('divID');\r\n```\r\n\r\n### hideDisplay(VideoID) ###\r\n\r\nHide the annotation display\r\n\r\n```js\r\n\tova.hideDisplay('divID');\r\n```\r\n\r\n### setposBigNew(VideoID, position) ###\r\n\r\nSet the position of the new big annotation button. The values for the inlet position are:\r\n\r\n* ul (up left) -by default-\r\n* ur (up right)\r\n* bl (below left) \r\n* br (below right)\r\n* c  (center)\r\n* none  (without button)\r\n\r\n```js\r\n\tova.setposBigNew('divID',position);\r\n```\r\n\r\n### playTarget(annotationId) ###\r\n\r\nPlay an annotation using the annotation Id, like this example:\r\n\r\n```js\r\n\tova.playTarget('8I2NBkJbQoeF3-bqgpcwTw');\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}